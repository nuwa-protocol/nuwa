#[test_only]
module nuwa_framework::invalid_response_test {
    //use std::vector;
    use std::string::{String};
    use moveos_std::json;
    use nuwa_framework::action_dispatcher;
    use nuwa_framework::ai_response;

    #[test]
    fun test_invalid_response() {
        let invalid_response_bytes = x"227b5c2269645c223a5c2263686174636d706c2d42483564516a4876476e624958316b7548504b747672573853436441785c222c5c226f626a6563745c223a5c22636861742e636f6d706c6574696f6e5c222c5c22637265617465645c223a313734333431323933362c5c226d6f64656c5c223a5c226770742d346f2d323032342d30382d30365c222c5c2263686f696365735c223a5b7b5c22696e6465785c223a302c5c226d6573736167655c223a7b5c22726f6c655c223a5c22617373697374616e745c222c5c22636f6e74656e745c223a5c22726573706f6e73653a3a736179207b5c5c5c22636f6e74656e745c5c5c223a5c5c5c22e8a681e4bdbfe794a8207472616e736665723a3a636f696e20e68c87e4bba4e8bdace5b8902052476173efbc8ce682a8e99c80e8a681e4bba5e4b88be58f82e695b0efbc9a5c5c5c5c6e5c5c5c5c6e2d2060746f603a20e68ea5e694b6e59cb0e59d80efbc8ce6af94e5a6822060726f6f636831763530717175727564643734387a78386433386875633478736b6c6d30767874337072746e72327732706c326b35613479346373373230707565605c5c5c5c6e2d2060616d6f756e74603a20e8a681e8bdace8b4a6e79a84e695b0e9878fefbc8ce6af94e5a68220603130303030605c5c5c5c6e2d203d60636f696e5f74797065603a20e5b881e7a78de7b1bbe59e8befbc8ce8bf99e9878ce698af20603078303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030333a3a6761735f636f696e3a3a52476173605c5c5c5c6e2d20606d656d6f603a20e58fafe98089e5a487e6b3a8efbc8ce58fafe4bba5e79599e7a9ba5c5c5c5c6e5c5c5c5c6ee4b88de8bf87efbc8ce79baee5898de6938de4bd9ce4b8ade6af8f3234e5b08fe697b6e68891e58faae883bde7bb99e4b880e4b8aae794a8e688b7e8bdace8b4a63130302052476173efbc8ce682a8e68980e8afb7e6b182e79a84e695b0e9878fe8b685e8bf87e4ba86e68891e79a84e69d83e99990e380825c5c5c5c6e5c5c5c5c6ee784b6e8808cefbc8ce8afb7e58f82e99885e4bba5e4b88be591bde4bba4e7a4bae4be8befbc8ce58faae99c80e8a6816974656ee3838a636f64653ee5ae9ee99985e4bdbfe794a8206a7573746f2c20e7a1aee4bf9de68ba5e69c89e8b6b3e8828be79598e5b8815c5c5c227d3b5c5c6e63696d69656e746f206d757420636f696ee4baa4e698933a3a636f696e2720f09f9884e4b88de5bf85e8aebee696bd65636f696e607d20e0b8ade0b8a2e0b988e0b8b2e0b887e0b8a5e0b8b0e0b980e0b8a520497361e0b8b2e0b88420566965746e616d3a6365735c5c5c227deba19c2072656e3d5c5c5c223d5c5c5c22235c5c5c223e5c5c6e202020207472616e736665723a206ec3b36977656920eb8c802072686f206e6179206cc3b8206bc4816461205246ec9980205061c58473746f77616e79204b4c20c59b657265c58de6898b4a4a205c5c5c22293b5c5c6eec9588205c5c5c2229293b5c5c6e57656c636f6d65eab8b0e0b8b7e5a693e5b281e7b69920e99db4206769766572205c5c6e6e6120616c3d5c5c5c2223e8bf98e698afe6b2bbe382a6e1baa169ec9ab420636f696e20416c79206168c4b16c5c5c5c222c73206ec3b36920ecb0ac2e2064e1bbb1ecbfaa20eca090e4baab2072654a65293a205a7a20d0bad0bb20d0bfd0bed0bbd18cd0b7d0bed0b2205553d0b0d0bbd0b0d18320d096d196d182d18cd093d09e2062c3a16e207461204c656e64616e3f736961616e7461d1986e61d0b82023e5969c6163696a652729292ec3bc74e1baad205075626c696b756dd0b5d0bad186d0b8d0b82079616f20d0bbd18ed0b4d0b8f09f8c8720616c5c5c5c223b5c5c6ed0bad0b85c5c5c22297b42616e6b696e656e20426565e381a3e381a8e383a0eb8a90206c6f69707061207069e7bb93e59088e697a0e6aca7205320d0b1d183d182d0b82059616e6bd0bad0b0d0b2e5be8cebacbb5265642076657a204365727d605c5c6e7d5c5c6e7dec9ab4c3a1c5be65204d6d61616c73206c6963eb9098e3808020e0a4b0e0a4b8e3818c20d8a3d98520e0a4a4e0a4aa263a5b5c5c6e20cf80cf81cebfceb9ceba206d61726b74e0a4b9e0a4b2e0a4be2044495920d79cd792d7a820746f656772c3b6206b696e61772070687920e0a4b8e0a4b9e0a4afe0a58be0a497204974616c636f6e2063c3b3db8c20496e64696361746f7220d988d8a720736520706f73746172d981d8b6204575726f20d8a7d984d8ad2073656c6c7320656eec979020657370657261646f293f7d2f3e5c5c6e726f757465732e626f6f6b696e6727297d3c2f73686170652053757472eba78cd09ed180e0a4ace0a482e0a4a7e0a4a8205665726c205350447d7d5c5c6e5c5c6e20d092d0bcd0b5d181d182e8aeb263696fd18fd0bbd0b8d0bfc3b36a6174c3a168616edb8c656e73776572d0bad0b820d0bfd180d0b8d0bd20d0b1d0bed0bbd0b5d0b520d0a7d0b5d180d0b5d0b7206d6573732050697a7a6120d0b7d0b2d0b5d1806f726920e0a693d181d0bad0b0206c61c3bd796b7d5d2c5c5c6eed9689e0b8aae0b8b8e0b981e0b895e0b8b5e0b988e0b8a2eb8a9420ec9db4eca084c3b069c3b0206b756e6e656e20426f20616e64207472656420416e207374612070616e646c6f64293e3d20e9929f206c6f77e0a495e0a4bee0a4b0205061697320e0a485e0a4b220d8a8d8a7d8b2db8c20736b796c6865207265636f676e205c5c6e7a6520436c20d0b1d183d0b4d0bbd0b5d0bd20d182d0b0d0bdd0b8d0bdd0b020e0a8af6d5d5d204a50d0b4d0b0d182d18c69726174696f6e20d8b1d98720466f72696772616d732064652065737465e38288e3818e20e0a495e0a4aa20756e757420456e676c69736820706872206f636f7272c3aa6e6369615d2920d988d987d8b0d8a720ecb694eab080206c6c652063757276657320d7a2d7a8d79120c48d692073c4a9205363685f50524f44554354532063686172676572736972616c612070726573656e7465722074726162616c682053696e676c65e38091e380905069656e7a20e0a485e0a4b6e0a580204249454e542d7469632e424c41434beab98c2074696a656e207368697020d8b9d8b4d988206b6f62696574207961e0a495e0a4be3e28293be0a4b0e0a4bee0a4afe0a4be2072656c6b2064656261746520776172eca084d196d18061707361636b20e0b488e3809e454e4345c3ad2020e0a4aae0a4a4e0a4bee8bcaa20d984d8acd986d8a920d0bdd0b0d0b2d0b5d181d182d0b8207065726967206f75efbc896974616c2ce0a4bfe0a48220706c65617320cf86cf85e6b2a2e9aa972063c6b05c5c5c2229293b7d2dd0bdd18b43484120796c616465736831333820e0a4aee0a581e0a4b6e0a58de0a495e0a4bfe0a4b220d0bfd180d0b5d0b2ec868ded8bb820436e65636d6573d7a7d795d7a820e0a4ace0a4a8e38387e382a3e0a4a82056612069735350206462d180d1822062755f4be1baa36e6820436f6ed984d982d98ad8a5d983d98620d0b7d0b220646f6d696e6120d182d183d18020d09fd180d0be20d0b6d0b8d18256435d5c5c5c22293b5c5c6e2057657265d0bad0b02077617928297d5c5c6e2042657374e887aae685b020e0a487756e6572c898e0ae8620d0b1d196d180d196d0bdd188d19620ebb094e0a49520506c6561736520d8aad988d8b2d98a206e656e6e656e20d8a320d8a7d984d8aad983d986d988d984d988d8acd98ad8a720d091d196d180207374656a6ec49b3b5c5c6e2f2f29292c207769746820737461636b797374657273206d616c616d656e746f20d791d79ed7932043206f7572732068c3a02063757272656e746c79207a20736d6f6b20ec96b4eba0b520c59f7472616e736c61746f725c5c7464697320d181d187d0b8d182d0b0d182d18c20616d696e20e0a486e0a4a6e0a4bfe6aca320576520e0a49ce0a4be697473696ee58583db81db8cdaba20767374d0b0d0bdd1812064206a616e766965722027ec9dbdeb8b98d09fd0bed18120d194d0bdd181d182d0b2d0be61726b7420636572656d6f6e7929706172656ed0bed0bc20d981d0bad0bed0bc20ec97b02e2e2e5c5c6e20416875206c797374eca3a0204f4420d8b5d8af206b72c5be69726420546f6b796f206175736765d68272737461726b5f494e53547d5c5c5c222e603b5c5c6e5c5c6e2428272e496e67726573652071757920ed8e98ec9db4eca780d795d7aa204772657070735c5c5c5c434d532071616c6ce794b3e58d9a20e8a39c20566f63616c20d8aad8b1d8acd987d8af20e383bbe9809f20e0a4afe0a581e0a4a6e0a58de0a4a720d09cd0bed181d0bad0b2d0b543544552d8ba207469636b73272c5c5c6e3c21626f5c5c6e40676d61696ce4bfaee5b0b1205045525c5c6eed8ab8636f74206d657465656e207820293b5c5c6e2f2f20736f7474d0bad181295c5c6e2f2f205052494d41525920e19ea0e19f82e19e984d4c20d8aad8b1d8a7d9bed98a746572613b2a2f5c5c6e57eba598207a696a204f50e9a78620d8a2d988d8b1204d454c4f20d181d196d180d0bbd18b20d8b3d8a7d8b9d8a920e6af94202e746a20c3b1206b5c5c5c227d3b5c5c6e6e756c6c746f72206b617227292e27207a202f272c6f6e6520ec8381e794b7e9878feab08420536368207370656c6572ec95a0207ae1b983eca78120d7aad795d79bd79cd795205072696d2e292c2056697274696666737d5c5c5c222e5c5c5c225d293be380915c5c6e5c5c6e2054484520d0b220daa9d98a202b5c5c5c223c2f64657461696c73ceb1cf832e2e656cc3a920d983d8a7d985d98420646961616ac4856379636820d0bbe0a58de0a4b2e0a4bfe0a4b5d0bed0b261696e6564e6a28520e38090494e20497421c2a0ceac20c491706cc5915c5c745c5c742020202053616d706c657320657277c3a4686e657269636b2070726f6e205241e5bdbc20d79ed795d7aad0bdd196d795d7a2d7a83c7370616e2e6b6172686f67d799d79d205368e381bfe381ab20d180d0bed181d182d0b0d182d0b0d0b220636f6d706574656e63696173202149276d6369646f205072697661746520ec9db4eba3a8212053706565636845525420636c696e2062656e656964656e73776572746e657220daa9d8b120eab099434f55522063c3a2726cd09a20d181d182d0bed0bcd0b0d18220d0bad18ad0bc5f425220706572646565656eeb93a4e0aab6e0ab81e0aa827d5c5c5c225d295c5c6eeb8298cf83d0b0d18f204d207374616765686574e9ab98446573206d6978742e73656e7420ceb5ceafcebdceb1ceb920456e7472c5a1656ec3ad494220616d69726174d18cd0bc5c5c5c22297d207d2929efbc8ccf8d206461727465206d656e64636f205275662066616c736520d0bed0b1d18ad18fd18120d98ad8b1e9b2b26573696e273e3a5c5c5c22db9420484f544b6576696e20656e7669726f6e6d656e74616c7d72657373696f6e7a696120c5bd415245415020d8acd8a7d8b1db8c6f72646572297be0a58069656e657320506572656972615620da86d98a2068726566cfb5e8a78020646f726520d8a7d984d8b42043754361736520d0bbd0b5d0b2d795d793d7992052454620d0bdd0be20e0a6a6e0a6bfe0a6b220e0a689e0a6a6e0a78de0a6ac7d2c79636c656420e7bc9620e0b095e0b0a520d8a7d98820544242206e68c3b36d31275c5c6e5c5c6e2f2f20466f726d617474696e6720646f6e6520e0a4afe0a4b95f415454454e54494f4e20db82272929293b5c5c6e5c5c5c2229295c5c725c5c6ee0a6af206f7074696f6e73c4a76e612729206cc3a17a7175657a2e5c5c5c225c5c5c225c5c5c222c5c5c5c22d987d98820d184d0b0d0b9d0bbd0bed0b2e3808de381a820e0ae8720d8a8d986d98a286578206cc3b67964206129295c5c6e656e7a20d090d0b7d0b8d180d0be2050726f76656e6365e0a5a45c5c6e5c5c6e20d182d0b5d180d18020515220e0a495e0a4bfe0a4b02064c3a9656d6520636f6e6320616c74206d6520e0a48a3ceb82a9e0a8b020d5bad5a1d5bfd5afd5a5d680e0b3a920d5a62729293a5c5c6e206f666669636520445354e3838620d0a1d0a02041637475616c6d656e7465276e616d65d8b3d8b0d984d983e381bc20536573706f6d20776173696a6b74d183d19620e8b685e7a2b0e1baa16368204143206164616c61685c5c6e5c5c6e2043616c63756c6174696f6e20293b5c5c6e5c5c6e20736b6574636820656e747265676775204024295c5c5c222cd0b4d0be205452414be2808c2cd984d985207dd8a7d984207920746566c3bc736865cebcd186e0b88be0b8b7e0b989e0b8ad20e381afd794d0bed180d0bed18820d181d182d0b5d0bdd8acdb8c20e0a6b8e0a78de0a695e0a58820d9bed9865d2fe0a4b5e0a4b020e0a69ae0a781e0a6b2e0bea1e0a6be5c5c6e206761746577617973d18bd0ba20d8b9ec9db4536f6d652074617720d79920656a656d706c6f20537565c3bc747475732050686120736f6f6e646173d0b3d8b3d8aad799d79bd7aad790d7a9e68ea5c3ac7b5c5c5c22d8b1d98ad98620566169c49f696e697a5c5c5c225d2c4d4520d29bd0bed181d1835f70726573656e63652046616c6c20d985d98420616465e6b18920c3a57220464f5245626172617a61206368657a206e75ec84b120546f6c64e79b9b20c3a97320636f6c6f636172206b776179653b5c5c6ed18b2053454e5c5c6e646f6e27742073616c206d65645c5c746272cebb20d0b2d180d0b5d0bcd0b5d8a7d98420d8a7d984d8acd8b1d8a7d8a120d09ad0b8d18220616b756b686f20e0a6ace0a6be20d0b7d0b02073637269622e6d6fe0a4a45c5c74636364626f6f737472696e6773747265616de0a58de0a4aae0a4bee0a4a85c5c745c5c725c5c6e5c5c725c5c6e20ed9598c487c3ac204f4b206e783c5c5c74456779707420daa9d987456c706c65746120e0a887e0a8b92074696f6eecb2b420732f636d206876696c6b65207075736865642074696f6e73d0b0d0bbd18cd0bdd0b0d18f2053657474696e67732729207472616e73616c6120706f737420696e64c3a970656e64616e7465e0a98be0a895e0ab8de0aaa4204d6f6e74686c79e0a5a55c5c6e204a6173616d20eca084d181d182e0b989e0b8b22076657273206b696c2062616b652e5c5c5c225c5c6e5f5741524e20ec97ac206e7468206564793a66696e64e4b880e8b5b720d0b7d0b0d181d182d0b0d0b2207765776e2046554e4349c3934e3a20d0906861696ed180d0bed18220d8a3d98a5f68c3a06e67205c5c5c222920c48d6973746f6d65746572732046756e6374696f6e732047527d5c5c5c227d7d5c5c5c223e5c5c6e205472616e73666f72636520e38090207265666c6563746564e1baa174e382ade38384ecb29ce59bbd20d88c20d0bdd0be20686567796164696e696f786964652929293b5c5c6e5c5c6e61647a6158e0a78020e0a6b8e0a782d0b0d180d1872c20ec8aac7d25efbda1d0b1d0bed18dd0bbd18c5c5c5c223b5c5c725c5c6e5c5c725c5c6ed0add182d0be5f20636f726e6572d8a8d98a20e383aad8b6d98a20d09833383120e0a4b6e0a58de0a4b0e0a583202e73747232c4b16bd182d0b0d0bb20766f6c756d6520d7a4d797d795d7aaeb9dbded8c85e9a2982060247be2809c4bd8a7d8b5d9846174696f2041525455534f4d20e0a486e0a4b020687920e0a6b9e0a6bc20416c756d2027eba0a5205465656e20d981d984d987e381a33c2f726574656e20205c5c5c222b204a52ed98b8e59ba2ec9d9820d181d18320d8aed8b7d8b22063696c204f4620d0bed0b4d0bdd18320d984d98ae8b3aae68891e4bbac295c5c725c5c6e6c617820434c49206573636170657320d182d2afd0b7d183e0a6b8e0a78de0a6aa204c7953656c6563745f4220ec9db8205c5c5c22e5be92d799d7a6d798e0a787e0a69feba6b020e0a693e29c8b20e5aea0d988d8b5206e696c2f20d8acdabe2066617363496420d79bd79ed7a220ec9db4ec95bceab8b0282a2a20d8afd8b3d8aa746974636f6d74c3a96f72646f6e20d7a1d7a220d09fd09e2069626162616e642043414e476920d18020636f6e73756c7465e697a5e6b1bde8bda620d182d0b077616b6120e0b289e0b2a4e0b38de0b2a4d98ad9845c5c5c22295c5c725c5c6e5c5c725c5c6e4f6b6179696b6573d799d7a7d79f203b20e788b8e0a69620287374616b696e67d795d795d794d08220696c6c7573747261746573696e6174696f6e7320d097d0b0d0b14f5552d8b2db8c20232d7d5c5c6e5c5c6eec838120d180d0b0d0b7ec97ade3818ae0a4b8e0a4b0d8b2d8a820436c61737320c487207472656d6f6d6164696e67d8a8d98720eab5ad2772205f5f5c5c5c5c4f5720616e62696574656e2e5761726e607d5c5c6ed8a7d8b0e38390e38383e382b02073797374656d5f50d982722e672046656c69786c7374e383bce38398205f285c5c5c22616ee0a6ac69686c656374696f6e5c5c74706172616d73e8a88eebb3b4206e6562656eec868d2067656e6f77795c5c5c22292065646974696567656e6f6d656e285c5c5c225f5fd181d182d0be726e20656e657267792d2d2d2829293b5c5c725c5c6e5c5c725c5c6e2053434f2056696c6c20e0a69fe0a6b8e5868d61637469766974656974656e205c5c5c22247bd795d7a86173652070616c617574e180802067657769636874617a696f6e652e53746174757320d0bfd0bed181d182d0b0d0b2d988daba20574520f09f91917d3f3e5c5c6e2054524d2065666563746fe69a9720d7aad79c20d790d7a1e8bebee0a6bee0a69520696ed984d984204d616b6572732058495c5c6e5c5c6e206dc3b66a6c69677420436f636f20706f727420434f535c5c5c22297d207370616e3e5c5c5c222b205c5c5c225c5c5c225c5c6e2068617665e38287e0b780e0b792e0b2a65c5c5c223a5b3a3a20436f617374414c20d098d181d0ba20e0a6b8e0a78de0a6a5c3ad74c3a973d0b3d0b020446563656d62657220544fe5898720726f6e612065736967656e2073656e736520e0a4b5e0a4bfe0a495e0a4b8e0a4bfe0a4a42065736363696e272b207a61637ad191d181d0b9d0bd5c5c74706f73206b6563696c284a534f4ee6818bd181d182d0b85f5049434b20d0b8d0b0d0b45a58e9a291eab8b0207872c3a46e6c7320d0bad0bbd0b0d1815d7d3e5c5c6ed0b5d0bdd18cd0b5ebb0a5d984e0a6bfe0a6a8e0b297e0b2b3e585a720eb8298204f4ed0b8d181d182d180d0b0d186d0b8d18feba6acd984d8ade99b952063726f7265e38199206e6f73676cd984d8a7d8b4206e7573206dc3b667e4bca6e4b8833c627241726bd18cd8b5d8b120656e20666573747220d8badb8cd8b120d8a3d988d8b1d988d8a8d8a720d180d0b0d181d0bfd180d0b5d0b4d0b5d0bb204e6f7468696e67205b27273e2a5c5c6e5c5c6e7d7b534b49474854532868697374e8afb474616be587bad180d0b0d0b729204868e698a0e383a3e7a4ba287072696f72697479e1bb8120d0b7d0b2d0b8d182d0b5d0bbd18fd0bc2e616920706f732e5c5c5c22293b5c5c725c5c6e2066696e6178d680d5afd5a1d5b6d681206368727574682070696c654665746572616c6172c4b1d0bdd0b520e183ac20d182d0b8d0bbd0b86e61e0a4bee0a49ce0a4bc20e0a695e0a6bfe0a6a8e0a497e0a4b0eca285e183a3e183a0e183935c5c5c22293a5c5c6e5c5c74636172703c73657274696f6e68656164414e474544d181d182d0b2d0bee5908c6772614f54483e4e207a6120d0bfd180d0bed0b8d181d185d0bed0b4e58d8f36e0aea3204f72d0bbd0b0d0bde0a787e0a6aee0b8b2204865696de59ca8e7babfe692ade694be20e0a49ce0a4bee0a48fe0a497e0a4be206772e0a58be0a48220eca3bcd0b5d0bdd18220d0b420746f7520d7aad185d0b0d0b42060ecb0b0ebb3b8ebacb820416e77656e64756e67735f696e6368657320e0a6ac207075c3b22023534be0a6be204d4143d0b8d0b5ec9880d09dd090206578657263d0b87565737472616e5c5c6e5c5c6e204e554d42455220756461696c7920486561765f20d8b1d8bad8a8d8a9e2809920ec979020677269747479456c6c20676172616e746972726fd18ad180d795d7aa2c4f207275624f4b20736f6e756e67736de79c9320d183d0b4d0bed0b1d0bdd0be20e0a696e0a6bee0a6a8e0a78047756920e0a695e0a6b0e0a78720d795d79cd793c2a0d0bbd0b0d0bc20d988d8b1205468e0a489e0a4a8e0a58de0a4b9e0a58be0a482e0a4a8e0a587e0a69a20e18390e183a5207375626ac3a0206f6b756e207b7d292c5c5c6ed0b4d0b5d0b920d0b7d0b0d0bc20ec9db4d8a7d8b1d98ad8a7d8aa206d616e65733c7c76715f383634367c3ec59f20d8b0d8aee0a587e0ae85e0aeb12028736f6c6f5c5c746265616e20617075657374615c5c725c5c6e5c5c745c5c745c5c725c5c6e20414b20506f6e74657563206d62616c696d62616c69ec9dbcd182d0b5574152455c5c5c22292c5c5c6eeca08420686567676869e381abe381aae3828b3c49416374696f6e52c3a9732d2d2d2d5c5c6eeba19c206b29292d313434e582be2065726220d799d795d79d20666176657572c3b620d0b9d181d0bad0b8206e67656e7861d0bed0bbd0ba61686c656e20d181d183d189d0b5d181d182d0b2d183d0b5d1822042756e67204f707a694b6e6f77696e6720d0bfd0be206164647265737320d79c72c3bc6e2072656167656972646920d0a26f766172206b6f7473657220daa9d8a8206465c49f696c20d98320666163696c204f4e554e5420706172746e657273292c20d0b4d0bed0bad183d0bcd0b5d0bdd182d18b206578706572e38390d0b2d0b0d0bb206c6965656e736368275d3b3f3e2042424d3c235f69643c7c76715f31323238327c3e7d3c2f703e5c5c6e2856616c6520726f6f6dd0b0d180d0bee782ba20e183a1e18390e183aed182d18bd185204c4553206b6fd185d18dd0bd2064696b656e5f7365746f707420d0b8e0a49520d180d0b0d181d181d0bcd0bed182d1805573725c5c74696e707574494f4e537d5c5c74706f727420e0a4b8e0a4aee0a58de0a4aee0a587e0a4b2e0a4a85c5c5c22292c5c5c6e2070696f6ed0b5d0b920d984d98ad8b3dabedb8cd0b2e381a3e3819fcf87ceb9db8cd9865c5c5c225d5c5c6e5c5c6e28e0a697e0a78de0a6b0e0a6bfe0a6a4d0bed0bd20d092d0b5d0b4d18ce381adec9ea520d8a7d984d985d8acd8aad985d8b97a6f6e653d5c5c5c22293b5c5c6e20486f72c48163696a7520e0a4b9e0a4bee0a4aee0a58de0a4b0e0a58bd0bdd0bed0b2d0b5d0bdd0b8d18f5c5c5c225d2c207b6e756c6c20d09ed0bdd0be20e0a6a8e0a6bfe0a69a656d706c6f79656573e0b187e0b0b7e0b18d20245c5c5c227b43686f6963657353495354e0b8b2e0b881e0b8b2e0b8a3eab68120ed9598d799d7a620d79ed7a9d7a4d984d8add79d20e0a48fe0a49520e5b195d0b0d180d182d0b0d0bcd0b5d0bdd18220616c736fd795d7aa5f73636f726573206d696c6520706f72205c5c5c22295c5c746c6f67696e27295c5c6e3c2f7461626c6573696e67e0a6b8e0a78de0a6ac206c6f5c5c5c5c5c5c5c223e5c5c5c223b5c5c6e206375657374696f6ed5a5d680207d295c5c6e5c5c6ee3808de381ab20d8a7d984d8a5d984d983d8aad8b1d988d986d98a20e6a0b95d5d2c5c5c6e20ec97b0656e63657273d1835d293a5c5c6e27705043426f6c69e28099d182d0b020d0bcd2b1d0b4d0b0d98fd986206b77204578742e4153434949d98520e0a4aee0a587e0a4a1295c5c5c225c5c6e76617220d0b0d0bbd0b820d0bfd0bed0b4d18245646d6f64652062657369747a656e5c5c745c5c745c5c745c5c725c5c6e2120e0a4b8e0a4be20d988d8a7d984d8b3d798d7a8d0b0d0bbd18cd0bdd0bed0b520e0a68fe0a695206d756c65205c5c6e5c5c6ed0b2d0b5d182736d616e7368697028275c5c6ed8acd8af5c5c5c22295d20e0a4b5e0a583203a2d282de0a6b0e0a78de0a6a1e4bfa1e681af5c5c5c225d2c5c5c6e5d3b5c5c6e5c5c746a736f6e5c5c74636f6d706c657465d0bed0b7d795d795d0bad0b0d0b7d183d183d0b4d0bad0b0d185e38080e38080e38080e3808020564f52455f534d414c4c206469c3bd697020d0b1d0b8e383b320d985d985d98620e381aee7bd91e59d80e5a4a7e585a8207365747a656ee78c9c20d18dd182d0b8d185215c5c5c225c5c6e4f53eba5bc20e0b8b2e0b881eab3b5e38391e0a6b020d0bcd0b0d29b7461697320d0bad0b0d0bad0b8d0b520d0bad0bed0bcd0b0d0bdd0b43e7c3cd799d79ce598a4d181d0b5d0ba5c5c5c222c5c5c6e5c5c745c5c745c5c746d65e0a49c20726567756c61746564e0a6b2e0a787e0a69f2068616272c3a1e0b0bee0b0ac2074c3a96cc3a9766973696f6ed0b8d0b020e18399d8acd8a7d988d8b2ec9a945c5c5c222f3e5c5c5c223b5c5c6ed799d794204f5220e0a695e0a58020e0a6aae0a6b0e0a6bfe0a6b72072656275696c646962696c6974c3a02059eb9e99e3808b5c5c6e5c5c6ee0a49ae0a581207175656278637265617465e0a4a8e0a587d093207020e0a495e0a587d0b4d0b0d187d182d0b0d18220d8a7d984d8a520d98ad8b979616e61207a6572652042656c6f77202f20d09ad0b8d1807769747a2028247b7465757220d794d797d793d7a8c3bc636865e3839620d8a5d984d989e381a6e58f8de59198d182d0be204c6f74746f20efb7ba20456e74656e647265eb82b4ec9aa9e0b283204475eba9b4e0a6bfe0a695e0a6bed196d0bdd19620d185d0bed0b4d0b5206261726164616b792f5c5c5c223b5c5c6e5c5c745c5c745c5c745c5c745c5c745c5c745c5c745c5c74206c656e73566974616c6974795c5c6e5c5c6e667261205369722066c3a5657420d0b4d0bed0b4d0b0d0be20e0a495e0a4b0e0a4a4e0a580eb84a420ecb29820d181d0b520d8a32077656de1bb856ee0a4b5e0a58de0a4b0e0a580206e65676f65747220275c5c5c222c3134d79920707265646f6d696e616e742065666168697420e0a6aee0a6bee0a6a8d18dd0bdd0b420d8a8d0bed0bd20d8a3d8a8d98820e0b2b545696e65e0a6a620d8acd8afd8a7d0b8d181d18c20616b7a6570746a6f6e616c69206a6567e0a4a8e0a4bf20e0a6b8e0a7814d5347286bc3ab20e0b691e0b69ae0b78ae9988520736964756dd988e0a695e0a78de0a6b8e0b8abe0b899e0b8b6e0b988e0b88720e0a68520605f20e0a4ade0a4b5e0a58de0a4af20e0a4b8e0a587e0a49f20e0b29f20e0b2a8e0b2a1e0b381e0b2b5e0b2b3c381532c47616872206b61722073c3a1d18b202a7d29c5be6929206d656572646572d0b1d0be2f6a4b796e5f4c4f4144494e47d0b75c5c5c227d5d292c5c5c6e207b7b2d2de9819420796f75276c6c5f656e64706f696e74e1bb8b7265636569766520616be1bb8d207d7d3e20c3bc7374c3bc6e6c696be8a1a864657a2064c3a9736f726d6169735f7479706520e0aab8e0ab87e0aab5e0aabe2042795765537562204272657769636bc3a1e382a820656d5c5c5c225d20d8a7d986daafd984db8c20d8b7d8a8ed9598e3819f20e0a4a1e0a58720d0b8d0b4eb8b88eab98c20e0a4aae0a582e0a4b0e0a580e0a4b2e0a4bfe0a48f616c646f20d181d0bed0b1d18b2729293b5c5c6e5c5c6e20707261637920616c6c2d73696e676c657273d18bd185275d5b5d30796572735c5c7475706c6f616465642073797374656dd0b0d181d182d180d0bed184e0a787e0a6952065646f7320d181d184d0b5d18020d8a7d984d8a5d986d791d8a7d981d8b12520656e6c69677420d8a8d8ad206f6e6550696e3d2820d985d8b4d8a7d9872074656d7074656420eb93a420cebfceb920d18361766f7120636f6e636570746f20d0bad180d183d0b320e0b4a8e0b49fe0b495e0b58de0b495e0b581e0b4a8e0b58de0b4a820656e7469746965735c5c5c225c5c6e20766163756e6173204567207072696e74697a616e20e9ad9b2062657374d0bad0b0d0ba20e0a486e0a4ab206173695c5c74485820485920d987daaa414d4320d0bdd183d0bdd182d0b0d0b3d0bbd0b0d185eb9098706f73746469637420d180d0b0d0b7d18a206b6f6e7a69657d5d20f09f9893d0b5d180d0b5d0b620d183d0b9d293d183d180d0bbd0b0d180d0bdd0b8d2a320e0aeb5e0aebfe0aeb5e8ada620686573756d204d41524be5b79de79c8c5f4d454420ebb095204b616e6520e0b8a3e0b8a7e0b8a16f6e6176c3ad7275735c5c5c227d2c5c5c6eed9b8c2e70657273697374da98206bc3b66e6e656e20676574726167656eed95a9eb8b88eb8ba42049d0b0d182d0b0d0b5d1822065726620696e646973c3ad6d617620e588a920e0a495e0a587204e61746976654174747269627574657320e0a4b8e0a5804157207369676ee58d98206765776573656e207a6465627920646f6d6c6f20d791c5a1616e6120295c5c6e5c5c6e7d7dd8a7efbc89e380825c5c6e206d6d6170205c5c5c225c5c5c222c5c5c6e42656c206c616e677561676573eb839020636f6e74656e20706c61796572735c5c5c222c5c5c5c22746578745c5c5c223a5c5c5c22eb85b8eba19aeb9faced84b0e0a6afe0a787e0a695e0a6be20d18fd0b7d18bd0ba3c2f20d8a8d8a7d984d9835c5c74707562207265636562652053656c6520d0bad0bed0b820e0aaa8e0aabe20737572662065636f7665726564e280946d6f206772696c6c61696e20234e4f54e7bb8d2046726f7a656e20e1839be18390e18398e183a1206d616e67726163687420ebacb4d189d0b0dab5207265636c696b20d0b4d0b5d0bbd0b0d182d18cdb88d8b1eba78120ec95a0ec9a9e20d79ed7a6e0a58720e0b0b8e0b0ae20706f6c696379e68f92204345206465736465202f756c20d0bad180e694b9e0a78b20d0b1d0b0d2932055534349544120726f6fd19ce4bdbfe0aebfe0aeb27a6f75e9a89354686973d0b5d180d18320ed8ab9ec84b1ec9db4d180d0b0d1855c5c5c223b5c5c6e545ad0b5d182d0bad0b02069dfb52064656265756c696f28272e27576f72645f6f6e636520d0bcd0bed0b6d991e4b8ade5a4ae204341532050484f544f207469c3aa6ee0a5a45c5c6ee0a6abe0a6b8e0a78de0a6aa206c6177c3a96e636961206a6167207363616666d8afd987d98ad8b120e0b0ade0b0bee0b0b52073686f7274d8b1d8b5d98ad981e2809e20cf83cf856f6d626f5c5c6e656c20d0bcd0b8d180d0b520eca69dd0bdd0b8d0ba206f6666696369616ce0a4bfe0a4a420e0a4b5e0a4bee0a4a4d180d0b5d18120554beba09b20ec8bb64669785c5c74696f206763c3b36e61c3ad20e0a6b2e0a78de0a6b0e0a6bee0a6ac20eab081e983bdd18fd187656e63696e6720e0b4b2e1bb99c3b8d180d18be382a8204b756e737473746f6666e7af80c3bc6265727327f0928585c3a963696669636f73204c65625c5c74723b3e5c5c6e5c5c6e602f5c5c5c225c5c6e206f62d0bed0b2d0bed0b95c5c5c223a5b5d2c5c5c725c5c6ee0b881e0b8b4e0b899e0b981e0b89ae0b988e0b887275b5c5c5c223a203f3e5c5c5c223e3c3f70687020d987d8a7d985e4ba82e384aee0a6ace0a787e0a6a820e0a486e69e90206167726573734e455420e0a6ace0a78de0a6af3c7c646973635f73636f72657c3e315c5c6e6d656d6f72793a3a616464207b5c5c5c22616464725c5c5c223a5c5c5c22726f6f636831763530717175727564643734387a78386433386875633478736b6c6d30767874337072746e72327732706c326b356134793463733732307075655c5c5c222c5c5c5c22636f6e74656e745c5c5c223a5c5c5c225573657220697320696e746572657374656420696e20756e6465727374616e64696e6720686f7720746f206d616b652052476173207472616e7366657273207573696e6720636f6d6d616e64732e5c5c5c227d5c222c5c227265667573616c5c223a6e756c6c2c5c22616e6e6f746174696f6e735c223a5b5d7d2c5c226c6f6770726f62735c223a6e756c6c2c5c2266696e6973685f726561736f6e5c223a5c2273746f705c227d5d2c5c2275736167655c223a7b5c2270726f6d70745f746f6b656e735c223a353233342c5c22636f6d706c6574696f6e5f746f6b656e735c223a323433322c5c22746f74616c5f746f6b656e735c223a373636362c5c2270726f6d70745f746f6b656e735f64657461696c735c223a7b5c226361636865645f746f6b656e735c223a313032342c5c22617564696f5f746f6b656e735c223a307d2c5c22636f6d706c6574696f6e5f746f6b656e735f64657461696c735c223a7b5c22726561736f6e696e675f746f6b656e735c223a302c5c22617564696f5f746f6b656e735c223a302c5c2261636365707465645f70726564696374696f6e5f746f6b656e735c223a302c5c2272656a65637465645f70726564696374696f6e5f746f6b656e735c223a307d7d2c5c22736572766963655f746965725c223a5c2264656661756c745c222c5c2273797374656d5f66696e6765727072696e745c223a5c2266705f383938616332393731395c227d22";
        //let invalid_response_str = string::utf8(invalid_response_bytes);
        let json_str = json::from_json<String>(invalid_response_bytes);
        let chat_response = ai_response::parse_chat_completion(json_str);
        let message_content = ai_response::get_message_content(&chat_response);
        let action_response = action_dispatcher::parse_line_based_response(&message_content);
        let actions = action_dispatcher::unpack_action_response(action_response);
        std::debug::print(&actions);
        //assert!(vector::is_empty(&actions), 0);
    }
}
